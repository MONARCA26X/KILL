local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/MONARCA26X/LIBRER-A/refs/heads/main/GNIK-INKGG", true))()

local player = game.Players.LocalPlayer
local displayName = player.DisplayName or player.Name

local window = library:AddWindow("Private KILL MON4RK | Hello " .. displayName, {
    main_color = Color3.fromRGB(255, 255, 255),
    min_size = Vector2.new(400, 870),
    can_resize = false,
})

local soundControl = window:AddTab("Sound Control")

-- Vari√°veis para controle
local originalVolumes = {}
local isMuted = false
local soundId = "106866829236727"  -- NOVO ID ATUALIZADO
local customSound = nil
local isLooping = false

-- Fun√ß√£o para silenciar todos os sons
local function muteAllSounds()
    for _, sound in pairs(Workspace:GetDescendants()) do
        if sound:IsA("Sound") then
            -- Salvar volume original
            originalVolumes[sound] = sound.Volume
            -- Silenciar
            sound.Volume = 0
        end
    end
    
    -- Silenciar tamb√©m sons no Lighting e Players
    for _, container in pairs({Lighting, LocalPlayer}) do
        for _, sound in pairs(container:GetDescendants()) do
            if sound:IsA("Sound") then
                originalVolumes[sound] = sound.Volume
                sound.Volume = 0
            end
        end
    end
    
    isMuted = true
    print("üîá Todos os sons foram silenciados")
    
    StarterGui:SetCore("SendNotification", {
        Title = "Sound Control",
        Text = "Todos os sons foram silenciados",
        Duration = 3,
        Icon = "rbxassetid://0"
    })
end

-- Fun√ß√£o para restaurar volumes
local function restoreSounds()
    for sound, volume in pairs(originalVolumes) do
        if sound and sound.Parent then
            sound.Volume = volume
        end
    end
    
    -- Limpar tabela
    originalVolumes = {}
    isMuted = false
    print("üîä Sons restaurados")
    
    StarterGui:SetCore("SendNotification", {
        Title = "Sound Control",
        Text = "Sons restaurados",
        Duration = 3,
        Icon = "rbxassetid://0"
    })
end

-- Fun√ß√£o para tocar som espec√≠fico (SOMENTE VOC√ä OUVE)
local function playCustomSound()
    -- Parar som anterior se existir
    if customSound then
        customSound:Stop()
        customSound:Destroy()
        customSound = nil
    end
    
    -- Criar som LOCAL (somente seu cliente)
    local playerGui = LocalPlayer:WaitForChild("PlayerGui")
    
    -- Criar ScreenGui para o som
    local soundGui = Instance.new("ScreenGui")
    soundGui.Name = "PrivateSoundGui"
    soundGui.ResetOnSpawn = false
    soundGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    soundGui.IgnoreGuiInset = true
    
    -- Criar som dentro do ScreenGui (s√≥ seu cliente v√™/ouve)
    customSound = Instance.new("Sound")
    customSound.Name = "PrivateCustomSound"
    customSound.SoundId = "rbxassetid://" .. soundId
    customSound.Volume = 1
    customSound.Looped = isLooping
    customSound.Parent = soundGui
    
    -- Adicionar ao PlayerGui
    soundGui.Parent = playerGui
    
    -- Tocar o som
    customSound:Play()
    
    print("üéµ Tocando som (somente voc√™ ouve): " .. soundId)
    
    StarterGui:SetCore("SendNotification", {
        Title = "Sound Control",
        Text = "Som personalizado tocando (somente voc√™)",
        Duration = 3,
        Icon = "rbxassetid://0"
    })
    
    -- Remover ap√≥s tocar (se n√£o estiver em loop)
    if not isLooping then
        customSound.Ended:Connect(function()
            task.wait(0.1)
            if soundGui then
                soundGui:Destroy()
            end
            customSound = nil
        end)
    end
end

-- Fun√ß√£o para parar o som personalizado
local function stopCustomSound()
    if customSound then
        customSound:Stop()
        customSound:Destroy()
        customSound = nil
        
        -- Remover o ScreenGui tamb√©m
        local playerGui = LocalPlayer:WaitForChild("PlayerGui")
        local soundGui = playerGui:FindFirstChild("PrivateSoundGui")
        if soundGui then
            soundGui:Destroy()
        end
        
        print("‚èπÔ∏è Som personalizado parado")
        
        StarterGui:SetCore("SendNotification", {
            Title = "Sound Control",
            Text = "Som personalizado parado",
            Duration = 3,
            Icon = "rbxassetid://0"
        })
    end
end

-- Fun√ß√£o para verificar e atualizar o som
local function updateCurrentSound()
    if customSound then
        -- Atualizar propriedades do som atual
        customSound.Looped = isLooping
    end
end

-- Bot√£o para alternar entre mutar/restaurar
soundControl:AddButton("üîá Mute All Sounds / üîä Restore", function()
    if isMuted then
        restoreSounds()
    else
        muteAllSounds()
    end
end)

-- Bot√£o para tocar som espec√≠fico
soundControl:AddButton("üéµ Play Custom Sound (S√≥ Voc√™ Ouve)", function()
    playCustomSound()
end)

-- Bot√£o para parar o som
soundControl:AddButton("‚èπÔ∏è Stop Custom Sound", function()
    stopCustomSound()
end)

-- Switch para auto mutar
local autoMuteSwitch = soundControl:AddSwitch("Auto Mute on Start", function(state)
    if state then
        muteAllSounds()
    else
        restoreSounds()
    end
end)

-- TextBox para alterar o Sound ID
soundControl:AddTextBox("Custom Sound ID", function(text)
    if text and tonumber(text) then
        soundId = tostring(text)
        print("üéµ Sound ID atualizado para: " .. soundId)
        
        StarterGui:SetCore("SendNotification", {
            Title = "Sound Control",
            Text = "Sound ID atualizado: " .. soundId,
            Duration = 3,
            Icon = "rbxassetid://0"
        })
    end
end, {clear = false})

-- Switch para Loop
soundControl:AddSwitch("üîÅ Loop Sound", function(state)
    isLooping = state
    updateCurrentSound()
    if state then
        print("üîÅ Loop ativado")
        StarterGui:SetCore("SendNotification", {
            Title = "Sound Control",
            Text = "Loop ativado",
            Duration = 2,
            Icon = "rbxassetid://0"
        })
    else
        print("‚èπÔ∏è Loop desativado")
        StarterGui:SetCore("SendNotification", {
            Title = "Sound Control",
            Text = "Loop desativado",
            Duration = 2,
            Icon = "rbxassetid://0"
        })
    end
end)

-- Controle de Volume
soundControl:AddSlider("Volume Control", function(value)
    if customSound then
        customSound.Volume = value / 100
    end
    print("üîä Volume: " .. value .. "%")
    
    StarterGui:SetCore("SendNotification", {
        Title = "Sound Control",
        Text = "Volume: " .. value .. "%",
        Duration = 2,
        Icon = "rbxassetid://0"
    })
end, {min = 0, max = 100, default = 100})

-- Bot√£o para teste r√°pido
soundControl:AddButton("‚ñ∂Ô∏è Quick Test Sound", function()
    playCustomSound()
    task.wait(3)
    if customSound then
        stopCustomSound()
    end
end)

-- Labels informativas
soundControl:AddLabel("=== SOM PERSONALIZADO ===").TextSize = 20
soundControl:AddLabel("Current Sound ID: 106866829236727").TextSize = 18
soundControl:AddLabel("üéµ Sound ID: 106866829236727").TextSize = 16
soundControl:AddLabel("Status: " .. (isMuted and "üîá Muted" or "üîä Normal")).TextSize = 16

-- Display do status em tempo real
local statusLabel = soundControl:AddLabel("üéµ Playing: N√£o")
statusLabel.TextSize = 16

-- Atualizar status
task.spawn(function()
    while true do
        if customSound then
            statusLabel.Text = "üéµ Playing: Sim (ID: " .. soundId .. ")"
            statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        else
            statusLabel.Text = "üéµ Playing: N√£o"
            statusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        end
        task.wait(0.5)
    end
end)

-- Testar o som automaticamente ao carregar
task.spawn(function()
    task.wait(5)
    print("üéµ ======================================")
    print("üéµ Sound Control Professional v2.0")
    print("üéµ Sound ID: 106866829236727")
    print("üéµ Desenvolvido por: MyersDev")
    print("üéµ ======================================")
    
    StarterGui:SetCore("SendNotification", {
        Title = "Sound Control",
        Text = "ID: 106866829236727 carregado!",
        Duration = 5,
        Icon = "rbxassetid://0"
    })
end)
